!function(e){function t(t){for(var i,s,a=t[0],l=t[1],c=t[2],d=0,m=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,a=1;a<n.length;a++){var l=n[a];0!==r[l]&&(i=!1)}i&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},r={0:0},o=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;o.push([121,1]),n()}({121:function(e,t,n){n(122),e.exports=n(309)},308:function(e,t,n){},309:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"songs",(function(){return u})),n.d(i,"activeSong",(function(){return d}));n(308);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t,n,i){var a,l=null;try{l=document.createElement(e)}catch(e){throw new Error("Unable to create HTMLElement! Give a proper tag name")}t&&(a=l.classList).add.apply(a,s(t.split(" "))),n&&Array.isArray(n)?n.forEach((function(e){return e&&l.appendChild(e)})):n&&"object"===o(n)?l.appendChild(n):n&&"string"==typeof n&&(l.innerHTML=n),i&&i.appendChild(l);for(var c=arguments.length,u=new Array(c>4?c-4:0),d=4;d<c;d++)u[d-4]=arguments[d];return u.length&&u.forEach((function(e){var t=r(e,2),n=t[0],i=t[1];""===i&&l.setAttribute(n,""),n.match(/value|id|placeholder|cols|rows|autocorrect|spellcheck/)?l.setAttribute(n,i):l.dataset[n]=i})),l}var u=[new Audio("./assets/songs/Sound_19240.mp3"),new Audio("./assets/songs/Sound_19241.mp3"),new Audio("./assets/songs/Sound_19255.mp3"),new Audio("./assets/songs/Sound_19263.mp3"),new Audio("./assets/songs/Sound_19321.mp3"),new Audio("./assets/songs/start.wav"),new Audio("./assets/songs/Sound_06769.mp3")],d=[new Audio("./assets/songs/focus.mp3"),new Audio("./assets/songs/onclick.mp3")];function m(e,t){window.localStorage.setItem(e,JSON.stringify(t))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return JSON.parse(window.localStorage.getItem(e)||t)}function h(e){localStorage.removeItem(e)}var g={items:9,rows:3},y={items:16,rows:4},p={items:25,rows:5},v={items:36,rows:6},S={items:49,rows:7},w={items:64,rows:8};function b(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function x(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var q=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.result=window.localStorage.result?f("result"):[],this.songs=i,this.monitor=document.querySelector(".monitor"),this.nav=document.querySelector(".nav"),this.navItem=document.querySelectorAll(".nav__item"),this.burger=document.querySelector(".menu-ico"),this.newGamePages=document.querySelector(".New_game"),this.arrowOk=document.querySelector(".pages__ok"),this.oneClick=!1,this.newGameMessage=document.querySelector(".New_game__message"),this.gameField=document.querySelector(".game__field"),this.score=document.querySelector(".info__score"),this.timerIndex=0,this.scoreIndex=0,this.fieldWidth=this.gameField.clientWidth,this.fieldHeight=this.gameField.clientHeight,this.empty={value:0,top:0,left:0},this.cells=[],this.cellWidth=window.localStorage.fieldSize?this.fieldWidth/f("fieldSize").rows:this.fieldWidth/y.rows,this.cellHeight=window.localStorage.fieldSize?this.fieldHeight/f("fieldSize").rows:this.fieldHeight/y.rows,this.numbers=window.localStorage.fieldSize?b(Array(f("fieldSize").items-1).keys()).sort((function(){return Math.random()-.5})):b(Array(15).keys()).sort((function(){return Math.random()-.5})),this.tickId=null,this.timer=document.querySelector(".info__time")}var t,n,r;return t=e,(n=[{key:"awaitClassName",value:function(e,t,n,i){e.classList.toggle(t),n.classList.toggle(i)}},{key:"addSound",value:function(e){var t=this;try{e.addEventListener("click",(function(){return t.songs.activeSong[1].play()}))}catch(e){return}}},{key:"initNewGamePages",value:function(){var e=this;this.addSound(this.arrowOk),this.addSound(document.querySelector(".arr0")),this.awaitClassName(this.nav,"--off",this.newGamePages,"deactive"),document.querySelector(".arr0").addEventListener("click",(function(){e.newGamePages.classList.add("deactive"),e.nav.classList.remove("--off")})),this.newGameMessage.addEventListener("focus",(function(){e.newGameMessage.innerHTML=""})),this.newGameMessage.addEventListener("blur",(function(){""==e.newGameMessage.innerHTML&&(e.newGameMessage.innerHTML="[Enter your name]")})),this.arrowOk.addEventListener("click",(function(){"[Enter your name]"!=e.newGameMessage.innerHTML&&(clearInterval(e.tickId),h("savedGame"),e.startGame(),e.newGamePages.classList.add("deactive"),document.querySelector(".game").classList.remove("game-paused"))}))}},{key:"initBestPages",value:function(){var e=this;this.addSound(document.querySelector(".arr2")),this.awaitClassName(this.nav,"--off",document.querySelector(".Best_scores"),"deactive"),document.querySelector(".arr2").addEventListener("click",(function(){document.querySelector(".Best_scores").classList.add("deactive"),e.nav.classList.remove("--off")}));var t=f("result").sort((function(e,t){return e.score>t.score?1:-1}));console.log(t),document.querySelector(".best-wrapper").innerHTML="";for(var n=0;n<t.length;n++)c("p","champions","<span>".concat(n+1,".</span>\n\t\t\t<span>").concat(t[n].name,"</span>\n\t\t\t<span>score: ").concat(t[n].score,"</span>\n\t\t\t<span>time: ").concat(t[n].time,"</span>\n\t\t\t"),document.querySelector(".best-wrapper"))}},{key:"initSettingPages",value:function(){var e=this;h("savedGame");for(var t=document.querySelectorAll(".gamesize"),n=function(n){e.addSound(t[n]),t[n].addEventListener("click",(function(){"field size:3x3"==t[n].textContent?m("fieldSize",g):"field size:4x4"==t[n].textContent?m("fieldSize",y):"field size:5x5"==t[n].textContent?m("fieldSize",p):"field size:6x6"==t[n].textContent?m("fieldSize",v):"field size:7x7"==t[n].textContent?m("fieldSize",S):m("fieldSize",w),e.cellWidth=window.localStorage.fieldSize?e.fieldWidth/f("fieldSize").rows:e.fieldWidth/y.rows,e.cellHeight=window.localStorage.fieldSize?e.fieldHeight/f("fieldSize").rows:e.fieldHeight/y.rows,e.numbers=window.localStorage.fieldSize?b(Array(f("fieldSize").items-1).keys()).sort((function(){return Math.random()-.5})):b(Array(15).keys()),e.startGame(),console.log(f("fieldSize"))}))},i=0;i<t.length;i++)n(i);this.addSound(document.querySelector(".arr4")),this.awaitClassName(this.nav,"--off",document.querySelector(".Setting"),"deactive"),document.querySelector(".arr4").addEventListener("click",(function(){document.querySelector(".Setting").classList.add("deactive"),e.nav.classList.remove("--off")}))}},{key:"go",value:function(){for(var e=this,t=0;t<this.navItem.length;t++)this.addSound(this.navItem[t]),"New_game"==this.navItem[t].textContent&&this.navItem[t].addEventListener("click",(function(){e.initNewGamePages()})),"Saved_game"==this.navItem[t].textContent&&this.navItem[t].addEventListener("click",(function(){e.initSavedPages()})),"Best_scores"==this.navItem[t].textContent&&this.navItem[t].addEventListener("click",(function(){e.initBestPages()})),"Setting"==this.navItem[t].textContent&&this.navItem[t].addEventListener("click",(function(){e.initSettingPages()}));this.burger.addEventListener("click",(function(){var t=document.querySelectorAll(".pages");e.nav.classList.toggle("--off");for(var n=0;n<t.length;n++)1==t[n].classList.contains("deactive")&&document.querySelector(".game").classList.toggle("game-paused"),0==t[n].classList.contains("deactive")&&t[n].classList.toggle("deactive");e.play()}))}},{key:"play",value:function(){0==this.oneClick&&(this.oneClick=!0,this.songs.songs[q(0,this.songs.songs.length)].play());for(var e=0;e<7;e++)this.songs.songs[e].addEventListener("ended",this.songs.songs[q(0,this.songs.songs.length)].play)}},{key:"moveCell",value:function(e){var t=this.cells[e];if(Math.abs(this.empty.left-t.left)+Math.abs(this.empty.top-t.top)>1)t.element.addEventListener("click",(function(){t.element.style.background="red",setTimeout((function(){return t.element.style.background="none"}),1e3)}));else{t.element.style.left="".concat(this.empty.left*this.cellWidth,"px"),t.element.style.top="".concat(this.empty.top*this.cellHeight,"px");var n=this.empty.left,i=this.empty.top;this.empty.left=t.left,this.empty.top=t.top,t.left=n,t.top=i;var r=this.cells.every((function(e){return e.value===e.top*(null==window.localStorage.fieldSize?4:f("fieldSize").rows)+e.left}));this.scoreIndex++,this.score.innerHTML="Score: "+this.scoreIndex,r&&(this.result.push({time:this.timerIndex,name:this.newGameMessage.innerHTML,score:this.scoreIndex}),m("result",this.result),alert("won".concat(this.scoreIndex," for ").concat(this.timerIndex)),this.startGame())}}},{key:"startGame",value:function(){var e=this;if(this.scoreIndex=0,this.gameField.innerHTML="",this.empty={value:0,top:0,left:0},this.tick=function(){document.querySelector(".game").classList.contains("game-paused")||(e.timer.textContent="Time: ".concat(e.timerIndex++))},clearInterval(this.tickId),this.timerIndex=0,this.timer.textContent="",this.tickId=setInterval(this.tick,1e3),this.score.innerHTML="score: "+this.scoreIndex,this.cells=[],this.cells.push(this.empty),null!=window.localStorage.savedGame){this.timerIndex=f("savedGame").time,this.scoreIndex=f("savedGame").score,this.empty=f("savedGame").empty;for(var t=function(t){var n=document.createElement("div"),i=f("fieldPosition")[t].value;n.className="cell",n.innerHTML=i;var r=f("fieldPosition")[t].left,o=f("fieldPosition")[t].top;e.cells.push({value:i,left:r,top:o,element:n}),n.style.width=e.cellWidth+"px",n.style.height=e.cellHeight+"px",n.style.left="".concat(r*e.cellWidth,"px"),n.style.top="".concat(o*e.cellHeight,"px"),e.addSound(n),e.gameField.append(n),n.addEventListener("click",(function(){e.moveCell(t)}))},n=1;n<f("fieldSize").items;n++)t(n);return this.cells}if(null==window.localStorage.fieldSize)for(var i=function(t){var n=document.createElement("div"),i=e.numbers[t-1]+1;n.className="cell",n.innerHTML=i;var r=t%y.rows,o=(t-r)/y.rows;e.cells.push({value:i,left:r,top:o,element:n}),n.style.width=e.cellWidth+"px",n.style.height=e.cellHeight+"px",n.style.left="".concat(r*e.cellWidth,"px"),n.style.top="".concat(o*e.cellHeight,"px"),e.addSound(n),e.gameField.append(n),n.addEventListener("click",(function(){e.moveCell(t)}))},r=1;r<y.items;r++)i(r);else for(var o=function(t){var n=document.createElement("div"),i=e.numbers[t-1]+1;n.className="cell",n.innerHTML=i;var r=t%f("fieldSize").rows,o=(t-r)/f("fieldSize").rows;e.cells.push({value:i,left:r,top:o,element:n}),n.style.width=e.cellWidth+"px",n.style.height=e.cellHeight+"px",n.style.left="".concat(r*e.cellWidth,"px"),n.style.top="".concat(o*e.cellHeight,"px"),e.addSound(n),e.gameField.append(n),n.addEventListener("click",(function(){e.moveCell(t)}))},s=1;s<f("fieldSize").items;s++)o(s);return this}}])&&x(t.prototype,n),r&&x(t,r),e}();!function(){c("div","wrapper",null,document.querySelector("body")),c("main","main",null,document.querySelector(".wrapper")),c("div","main__monitor monitor",null,document.querySelector("main")),c("div","main__menu-ico menu-ico",null,document.querySelector("main")),c("div","background",null,document.querySelector("main")),c("img","menu-ico__img",null,document.querySelector(".menu-ico")),document.querySelector(".menu-ico__img").src="./assets/image/settings.svg",c("nav","monitor__nav nav",null,document.querySelector(".monitor")),c("ul","nav__list",null,document.querySelector("nav")),["New_game","Best_scores","Rules","Setting"].forEach((function(e){c("li","nav__item",e,document.querySelector(".nav__list")),c("div","".concat(e," pages deactive"),null,document.querySelector(".monitor"))}));for(var e=0;e<document.querySelectorAll(".pages").length;e++)c("div","pages__back-arrow arr".concat([e]),null,document.querySelectorAll(".pages")[e]);c("div","New_game__message",null,document.querySelector(".New_game")),c("div","pages__ok",null,document.querySelector(".New_game")),document.querySelector(".New_game__message").setAttribute("contenteditable","true"),document.querySelector(".New_game__message").textContent="[Enter your name]",c("div","game game-paused",null,document.querySelector(".monitor")),c("div","game__info info",null,document.querySelector(".game")),c("div","game__field",null,document.querySelector(".game")),c("div","info__time",null,document.querySelector(".info")),c("div","info__score",null,document.querySelector(".info")),c("p","gamesize","field size:3x3",document.querySelector(".Setting")),c("p","gamesize","field size:4x4",document.querySelector(".Setting")),c("p","gamesize","field size:5x5",document.querySelector(".Setting")),c("p","gamesize","field size:6x6",document.querySelector(".Setting")),c("p","gamesize","field size:7x7",document.querySelector(".Setting")),c("p","gamesize","field size:8x8",document.querySelector(".Setting")),c("div","best-wrapper",null,document.querySelector(".Best_scores"))}(),(new k).go(),(new k).startGame()}});